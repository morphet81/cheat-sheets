<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code Skills Reference</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        header a {
            color: white;
            text-decoration: none;
            opacity: 0.7;
            font-size: 0.9em;
            display: inline-block;
            margin-top: 15px;
            transition: opacity 0.2s;
        }

        header a:hover {
            opacity: 1;
        }

        .content {
            padding: 30px;
        }

        .install-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 25px;
        }

        .install-box h2 {
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .install-box p {
            opacity: 0.9;
            margin-bottom: 15px;
        }

        .install-box code {
            background: rgba(255, 255, 255, 0.2);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
        }

        .command-wrapper {
            display: flex;
            align-items: stretch;
            gap: 10px;
        }

        .command-box {
            flex: 1;
            background: #1a202c;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
        }

        .command-box code {
            background: none;
            color: #68d391;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.85em;
            white-space: nowrap;
            padding: 0;
        }

        .command-wrapper > .copy-btn {
            flex-shrink: 0;
            align-self: center;
        }

        .instructions {
            background: #f7fafc;
            border-left: 4px solid #667eea;
            padding: 20px;
            border-radius: 0 8px 8px 0;
            margin-bottom: 25px;
        }

        .instructions h2 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .instructions p {
            color: #4a5568;
            margin-bottom: 10px;
        }

        .instructions code {
            background: #2d3748;
            color: #fff;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
        }

        .instructions ul {
            color: #4a5568;
            margin-left: 20px;
            margin-top: 10px;
        }

        .instructions li {
            margin-bottom: 5px;
        }

        .skills-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .skill-card {
            background: #f7fafc;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            overflow: hidden;
        }

        .skill-header {
            padding: 20px;
        }

        .skill-title {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .skill-title h3 {
            color: #2d3748;
            font-size: 1.3em;
            margin: 0;
        }

        .skill-title code {
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.85em;
            font-weight: 600;
        }

        .skill-description {
            color: #4a5568;
            margin-bottom: 15px;
        }

        .skill-usage {
            background: white;
            padding: 12px 15px;
            border-radius: 6px;
            margin-bottom: 15px;
        }

        .skill-usage strong {
            color: #2d3748;
            font-size: 0.9em;
        }

        .skill-usage ul {
            margin: 8px 0 0 20px;
            color: #4a5568;
            font-size: 0.95em;
        }

        .skill-usage li {
            margin-bottom: 4px;
        }

        .skill-usage code {
            background: #2d3748;
            color: #fff;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.85em;
        }

        .collapsible-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            background: none;
            border: none;
            color: #667eea;
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            padding: 0;
            transition: color 0.2s;
        }

        .collapsible-toggle:hover {
            color: #5a67d8;
        }

        .collapsible-toggle .arrow {
            transition: transform 0.3s;
            font-size: 0.8em;
        }

        .collapsible-toggle.active .arrow {
            transform: rotate(90deg);
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .collapsible-content.active {
            max-height: 2000px;
        }

        .file-container {
            background: #1a202c;
            margin: 0;
        }

        .file-header {
            background: #2d3748;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .file-name {
            color: #a0aec0;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.85em;
        }

        .copy-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 6px 14px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8em;
            font-weight: 600;
            transition: background 0.2s;
        }

        .copy-btn:hover {
            background: #5a67d8;
        }

        .copy-btn.copied {
            background: #48bb78;
        }

        .file-content {
            padding: 20px;
            overflow-x: auto;
        }

        .file-content pre {
            color: #e2e8f0;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.85em;
            line-height: 1.7;
            white-space: pre-wrap;
            word-wrap: break-word;
            margin: 0;
        }

        footer {
            background: #f7fafc;
            padding: 20px;
            text-align: center;
            color: #718096;
            font-size: 0.9em;
            border-top: 1px solid #e2e8f0;
        }

        footer a {
            color: #667eea;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .file-content pre {
                font-size: 0.75em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ü§ñ Claude Code Skills</h1>
            <p>Custom skills configuration for Claude Code</p>
            <a href="index.html">‚Üê Back to all cheat sheets</a>
        </header>

        <div class="content">
            <div class="install-box">
                <h2>Quick Install (macOS)</h2>
                <p>Run this command to download skills to <code>~/.claude/skills/</code> (auto-discovered by Claude Code):</p>
                <p style="font-size: 0.85em; opacity: 0.8; margin-bottom: 15px;">‚ö†Ô∏è This script is tailored to my personal needs. It will only replace skills with names matching those listed below ‚Äî your other existing skills won't be affected. Be careful when running scripts from the internet ‚Äî always review the source first.</p>
                <div class="command-wrapper">
                    <div class="command-box">
                        <code id="install-command">curl -sL https://raw.githubusercontent.com/morphet81/cheat-sheets/main/install-skills.sh -o /tmp/install-skills.sh && bash /tmp/install-skills.sh && rm /tmp/install-skills.sh</code>
                    </div>
                    <button class="copy-btn" onclick="copyInstallCommand()">Copy</button>
                </div>
            </div>

            <div class="instructions">
                <h2>Manual Setup</h2>
                <p>Skills are stored as <code>SKILL.md</code> files with YAML frontmatter. They are auto-discovered from:</p>
                <ul>
                    <li><strong>Personal:</strong> <code>~/.claude/skills/&lt;skill-name&gt;/SKILL.md</code></li>
                    <li><strong>Project:</strong> <code>.claude/skills/&lt;skill-name&gt;/SKILL.md</code></li>
                </ul>
                <p style="margin-top: 15px;">Skills are invoked using <code>/skill-name</code> in Claude Code conversations.</p>
            </div>

            <div class="skills-list">
                <!-- Review Changes Skill -->
                <div class="skill-card">
                    <div class="skill-header">
                        <div class="skill-title">
                            <h3>Review Changes</h3>
                            <code>/review-changes</code>
                        </div>
                        <p class="skill-description">
                            Review changes introduced by the current branch compared to a base branch.
                            Analyzes code quality, security, performance, best practices, testing coverage, and documentation needs.
                            Outputs findings categorized by severity with file and line references.
                        </p>
                        <div class="skill-usage">
                            <strong>Usage:</strong>
                            <ul>
                                <li><code>/review-changes</code> ‚Äî Compare current branch against <code>main</code></li>
                                <li><code>/review-changes develop</code> ‚Äî Compare current branch against <code>develop</code></li>
                                <li><code>/review-changes feature/auth</code> ‚Äî Compare against any specified branch</li>
                            </ul>
                        </div>
                        <button class="collapsible-toggle" onclick="toggleCollapsible(this)">
                            <span class="arrow">‚ñ∂</span>
                            <span>Show raw skill file</span>
                        </button>
                    </div>
                    <div class="collapsible-content">
                        <div class="file-container">
                            <div class="file-header">
                                <span class="file-name">skills/review-changes/SKILL.md</span>
                                <button class="copy-btn" onclick="copyContent(this, 'review-changes-content')">Copy</button>
                            </div>
                            <div class="file-content">
                                <pre id="review-changes-content">---
name: review-changes
description: Review changes introduced by the current branch compared to a base branch. Use when you want to review code changes before creating a PR or merging.
argument-hint: "[base-branch]"
---

Review changes introduced by the current branch compared to a base branch.

**Usage:**
- `/review-changes` - Compare current branch against `main`
- `/review-changes <branch>` - Compare current branch against specified branch

**Instructions:**

1. First, determine the base branch to compare against:
   - If an argument is provided via $ARGUMENTS, use that as the base branch
   - Otherwise, default to `main`

2. Get the current branch name and verify we're not on the base branch

3. Gather the changes:
   - Run `git diff <base-branch>...HEAD` to see all changes
   - Run `git log <base-branch>..HEAD --oneline` to see commit history

4. Review the changes and provide feedback on:
   - **Code Quality**: Look for bugs, edge cases, error handling issues
   - **Security**: Check for vulnerabilities (injection, XSS, secrets, etc.)
   - **Performance**: Identify potential performance issues or inefficiencies
   - **Best Practices**: Verify adherence to coding standards and patterns
   - **Testing**: Note if tests are missing for new functionality
   - **Documentation**: Check if changes need documentation updates

5. Format the review as:
   - Start with a brief summary of what the changes do
   - List specific issues found with file paths and line references
   - Categorize feedback by severity: üî¥ Critical, üü° Warning, üîµ Suggestion
   - End with an overall assessment and recommendation

**Example output format:**

```
## Summary
Brief description of what this branch introduces.

## Changes Reviewed
- `path/to/file.ts` - Description of changes
- `path/to/other.ts` - Description of changes

## Findings

### üî¥ Critical
- **file.ts:42** - Description of critical issue

### üü° Warnings
- **other.ts:15** - Description of warning

### üîµ Suggestions
- **file.ts:78** - Suggestion for improvement

## Overall Assessment
Summary and recommendation (approve, request changes, etc.)
```</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pre-Push Skill -->
                <div class="skill-card">
                    <div class="skill-header">
                        <div class="skill-title">
                            <h3>Pre-Push</h3>
                            <code>/pre-push</code>
                        </div>
                        <p class="skill-description">
                            Run pre-push checks including tests and linting to ensure code is clean and ready to push.
                            Automatically detects project type (Node.js, Python, Rust, Go) and runs appropriate quality checks.
                            Falls back to npm pre-push script if available.
                        </p>
                        <div class="skill-usage">
                            <strong>Usage:</strong>
                            <ul>
                                <li><code>/pre-push</code> ‚Äî Run all pre-push checks for the current project</li>
                            </ul>
                        </div>
                        <button class="collapsible-toggle" onclick="toggleCollapsible(this)">
                            <span class="arrow">‚ñ∂</span>
                            <span>Show raw skill file</span>
                        </button>
                    </div>
                    <div class="collapsible-content">
                        <div class="file-container">
                            <div class="file-header">
                                <span class="file-name">skills/pre-push/SKILL.md</span>
                                <button class="copy-btn" onclick="copyContent(this, 'pre-push-content')">Copy</button>
                            </div>
                            <div class="file-content">
                                <pre id="pre-push-content">---
name: pre-push
description: Run pre-push checks including tests and linting to ensure code is clean and ready to push. Automatically detects project type and available scripts.
argument-hint: ""
---

Run pre-push checks to ensure code quality before pushing to remote.

**Usage:**
- `/pre-push` - Run all pre-push checks for the current project

**Instructions:**

1. **Check for npm pre-push script:**
   - Look for `package.json` in the current directory
   - If found, check if it has a `pre-push` script in the `scripts` section
   - If the script exists, run `npm run pre-push` and report the results
   - If successful, inform the user and STOP here

2. **If no pre-push script exists, auto-detect project checks:**

   a. **Identify project type:**
      - Check for `package.json` (Node.js/JavaScript/TypeScript project)
      - Check for `pyproject.toml`, `setup.py`, `requirements.txt` (Python project)
      - Check for `Cargo.toml` (Rust project)
      - Check for `go.mod` (Go project)
      - Check for other language-specific files

   b. **Detect and run linting tools:**
      - **Node.js/JavaScript/TypeScript:**
        - Check for ESLint: `eslint` in package.json scripts or `.eslintrc*` file
        - Check for Prettier: `prettier` in package.json scripts or `.prettierrc*` file
        - Check for TypeScript: `tsc` in package.json scripts or `tsconfig.json` file
        - Run: `npm run lint` or `npx eslint .` or `npm run type-check` or `npx tsc --noEmit`

      - **Python:**
        - Check for: `pylint`, `flake8`, `black`, `mypy`, `ruff`
        - Run available linters (e.g., `pylint src/`, `flake8 .`, `black --check .`, `mypy .`)

      - **Rust:**
        - Run: `cargo fmt --check` and `cargo clippy`

      - **Go:**
        - Run: `go fmt ./...` and `golint ./...` or `go vet ./...`

   c. **Detect and run tests:**
      - **Node.js:** Check for test scripts in package.json
        - Run: `npm test` or `npm run test:ci` (if available)

      - **Python:**
        - Check for: `pytest`, `unittest`, `nose2`
        - Run: `pytest` or `python -m pytest` or `python -m unittest discover`

      - **Rust:**
        - Run: `cargo test`

      - **Go:**
        - Run: `go test ./...`

   d. **Check for build errors:**
      - If applicable, try building the project to ensure no compilation errors
      - **Node.js:** `npm run build` (if script exists)
      - **Rust:** `cargo build`
      - **Go:** `go build ./...`

3. **Report results:**
   - Provide a clear summary of all checks performed
   - Report pass/fail status for each check
   - If any checks fail, show the errors and suggest fixes
   - Include the commands that were run for transparency
   - If all checks pass, confirm the code is ready to push

4. **Handle edge cases:**
   - If no tests or linting tools are detected, warn the user and ask if they want to proceed without checks
   - If commands fail due to missing dependencies, suggest installation commands
   - If in a monorepo or workspace, detect and handle appropriately

**Example output format:**

```
## Pre-Push Checks

### Linting
‚úÖ ESLint passed
‚úÖ Prettier check passed
‚úÖ TypeScript compilation passed

### Testing
‚úÖ All tests passed (24 tests, 0 failures)

### Build
‚úÖ Build successful

---

üéâ All pre-push checks passed! Code is ready to push.

Commands run:
- npm run lint
- npm test
- npm run build
```

**On failure:**

```
## Pre-Push Checks

### Linting
‚ùå ESLint failed

Error in src/components/Button.tsx:
  15:7  error  'onClick' is missing in props validation  react/prop-types

### Testing
‚úÖ All tests passed

---

‚ö†Ô∏è Pre-push checks failed. Please fix the issues above before pushing.
```</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Verify Test Cases Skill -->
                <div class="skill-card">
                    <div class="skill-header">
                        <div class="skill-title">
                            <h3>Verify Test Cases</h3>
                            <code>/verify-test-cases</code>
                        </div>
                        <p class="skill-description">
                            Verify test cases in all test files modified since last push.
                            Checks that test cases make sense, have no duplications, and provide meaningful coverage.
                            Reads both test and source files to validate correctness.
                        </p>
                        <div class="skill-usage">
                            <strong>Usage:</strong>
                            <ul>
                                <li><code>/verify-test-cases</code> ‚Äî Verify all test files modified since last push</li>
                            </ul>
                        </div>
                        <button class="collapsible-toggle" onclick="toggleCollapsible(this)">
                            <span class="arrow">‚ñ∂</span>
                            <span>Show raw skill file</span>
                        </button>
                    </div>
                    <div class="collapsible-content">
                        <div class="file-container">
                            <div class="file-header">
                                <span class="file-name">skills/verify-test-cases/SKILL.md</span>
                                <button class="copy-btn" onclick="copyContent(this, 'verify-test-cases-content')">Copy</button>
                            </div>
                            <div class="file-content">
                                <pre id="verify-test-cases-content">---
name: verify-test-cases
description: Verify test cases in all test files modified since last push. Checks that test cases make sense, have no duplications, and provide meaningful coverage.
argument-hint: ""
---

Verify the quality and correctness of test cases in all test files modified since last push.

**Usage:**
- `/verify-test-cases` - Verify test files modified since the last push

**Instructions:**

1. **Identify modified test files since last push:**
   - Run `git log --oneline @{push}..HEAD` to see unpushed commits (if this fails, fall back to `git diff --name-only origin/$(git branch --show-current)..HEAD`)
   - Run `git diff --name-only @{push}..HEAD` to get all files modified since last push (if this fails, fall back to `git diff --name-only origin/$(git branch --show-current)..HEAD`)
   - Filter for test files using common patterns:
     - `*.test.*`, `*.spec.*` (JS/TS)
     - `test_*.py`, `*_test.py` (Python)
     - `*_test.go` (Go)
     - `*_test.rs`, files under `tests/` (Rust)
     - Files under `__tests__/`, `test/`, `tests/`, `spec/` directories
   - If no test files were modified, inform the user and STOP

2. **Read and analyze each test file:**
   - Read the full content of each modified test file
   - Also read the source file(s) being tested to understand the code under test

3. **Verify test cases make sense:**
   For each test file, check that:

   a. **Test descriptions match behavior:**
      - Test names/descriptions accurately reflect what is being tested
      - The test body actually tests what the name says it does

   b. **Assertions are meaningful:**
      - Tests have actual assertions (not just running code without checking results)
      - Assertions verify the right thing (not just `toBeTruthy()` on everything)
      - Edge cases and boundary conditions are covered where appropriate

   c. **Test setup is correct:**
      - Mocks and stubs make sense for what's being tested
      - Test fixtures and data are realistic
      - Setup/teardown properly initializes and cleans up state

   d. **Tests are independent:**
      - Tests don't rely on execution order
      - Shared state isn't leaking between tests

   e. **Tests match the source code:**
      - Tests cover the actual function signatures and behavior
      - Tests aren't testing stale or non-existent APIs

4. **Check for duplications:**
   For each test file and across all modified test files:

   a. **Exact duplicates:**
      - Tests with identical or near-identical test bodies
      - Copy-pasted tests that weren't modified

   b. **Logical duplicates:**
      - Different tests that verify the exact same behavior
      - Tests that overlap significantly in what they cover

   c. **Redundant assertions:**
      - Multiple assertions in separate tests that check the same thing
      - Tests that are strict subsets of other tests

5. **Report findings:**

   Format the output as follows:

```
## Test Verification Report

### Files Analyzed
- `path/to/file.test.ts` (N tests)
- `path/to/other.spec.js` (N tests)

### Issues Found

#### Nonsensical / Incorrect Tests
- **file.test.ts:42** `"should handle empty input"` - Test passes a non-empty string, contradicting its description
- **file.test.ts:67** `"should return user"` - No assertion on the return value

#### Duplicate Tests
- **file.test.ts:30** and **file.test.ts:55** - Both test the same "valid email" scenario with identical logic
- **other.spec.js:12** and **other.spec.js:40** - Logically equivalent: both verify default config values

#### Missing Coverage
- `createUser()` has no test for the error/rejection path
- Edge case: empty array input is not tested for `processItems()`

### Summary
- Total test files analyzed: N
- Total test cases reviewed: N
- Issues found: N
- Duplicates found: N
- Verdict: PASS / NEEDS ATTENTION
```

6. **Handle edge cases:**
   - If there are no unpushed commits, inform the user and STOP
   - If modified files include both test and source files, use the source files for context but only report on the test files
   - If a test file imports from files you can't find, note it but continue analysis
   - For very large test files (&gt;500 lines), focus on the changed sections using `git diff` for those specific files</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cleanup Skill -->
                <div class="skill-card">
                    <div class="skill-header">
                        <div class="skill-title">
                            <h3>Cleanup</h3>
                            <code>/cleanup</code>
                        </div>
                        <p class="skill-description">
                            Review uncommitted changes, verify tests, fix lint and audit issues, ensure 100% test coverage, then propose fixes for approval before committing.
                            Runs all checks autonomously, writes missing tests, and presents proposed fixes/improvements for the developer to accept or reject.
                            Offers commit or commit-and-push at the end.
                        </p>
                        <div class="skill-usage">
                            <strong>Usage:</strong>
                            <ul>
                                <li><code>/cleanup</code> &mdash; Run the full cleanup workflow on the current project</li>
                            </ul>
                        </div>
                        <button class="collapsible-toggle" onclick="toggleCollapsible(this)">
                            <span class="arrow">&#9654;</span>
                            <span>Show raw skill file</span>
                        </button>
                    </div>
                    <div class="collapsible-content">
                        <div class="file-container">
                            <div class="file-header">
                                <span class="file-name">skills/cleanup/SKILL.md</span>
                                <button class="copy-btn" onclick="copyContent(this, 'cleanup-content')">Copy</button>
                            </div>
                            <div class="file-content">
                                <pre id="cleanup-content">---
name: cleanup
description: Review uncommitted changes, verify tests, fix lint and audit issues, ensure 100% coverage, then propose fixes for approval before committing.
argument-hint: ""
---

Orchestrate a full cleanup of the current working directory: review changes, verify tests, fix linting and audit issues, ensure full test coverage, propose fixes, and commit.

**Usage:**
- `/cleanup` - Run the full cleanup workflow

**Instructions:**

IMPORTANT: This is an autonomous workflow. Run ALL checks and fixes yourself first, then present the results and proposed fixes to the developer at the end. Do NOT ask the developer questions during the process &mdash; only at the final approval step.

1. **Review uncommitted changes:**
   - Run `git status` to see all modified, staged, and untracked files
   - Run `git diff` to see unstaged changes and `git diff --cached` to see staged changes
   - Read each changed file to understand the full context of modifications
   - Produce a brief summary of all uncommitted changes grouped by category (new features, bug fixes, refactoring, etc.)

2. **Verify new test cases:**
   - Invoke the `/verify-test-cases` skill to check all test files modified since last push
   - Record any issues found (nonsensical tests, duplicates, missing coverage)

3. **Run test coverage (ONCE):**
   - Run the project's coverage command **exactly once** and save the full output. Do NOT re-run coverage later &mdash; reuse this output for all subsequent analysis.
     - **Node.js:** `npm run test:coverage` or `npx jest --coverage` or `npx vitest run --coverage` (check `package.json` scripts first)
     - **Python:** `pytest --cov` or `coverage run -m pytest &amp;&amp; coverage report`
     - **Rust:** `cargo tarpaulin` or `cargo llvm-cov`
     - **Go:** `go test -coverprofile=coverage.out ./... &amp;&amp; go tool cover -func=coverage.out`
   - Parse the output to identify:
     - Overall coverage percentage
     - Files and lines that are NOT covered
   - If coverage is **100%**: record as passing and move on
   - If coverage is **below 100%**: for each uncovered file/line, write the missing test cases yourself to bring coverage to 100%. Add tests to existing test files or create new ones following the project's conventions

4. **Fix lint issues:**
   - Auto-detect the project type by checking for configuration files:
     - `package.json` (Node.js/JS/TS)
     - `pyproject.toml`, `setup.py`, `requirements.txt` (Python)
     - `Cargo.toml` (Rust)
     - `go.mod` (Go)

   - **Use the auto-fix command when available:**
     - **Node.js/JS/TS:**
       - Check `package.json` scripts for a `lint:fix` script. If found, run `npm run lint:fix`
       - Otherwise, check for ESLint and run `npx eslint . --fix`
       - Check for Prettier and run `npx prettier --write .`
     - **Python:**
       - Check for `ruff` and run `ruff check --fix .` then `ruff format .`
       - Or check for `black` and run `black .`
       - Or check for `autopep8` and run `autopep8 --in-place --recursive .`
     - **Rust:**
       - Run `cargo fmt` and `cargo clippy --fix --allow-dirty`
     - **Go:**
       - Run `gofmt -w .` and `go vet ./...`

   - Record any remaining lint issues that could not be auto-fixed

5. **Run auditing and fix issues:**
   - **Node.js:** Run `npm audit`. If vulnerabilities are found, run `npm audit fix`. If that is not enough, note remaining issues but do NOT run `npm audit fix --force` automatically
   - **Python:** Run `pip audit` if available. Note any vulnerabilities found
   - **Rust:** Run `cargo audit` if available. Note any vulnerabilities found
   - **Go:** Run `govulncheck ./...` if available. Note any vulnerabilities found
   - Record any audit issues that could not be auto-fixed

6. **Present proposed fixes and improvements:**

   Display a full summary of everything that was done and found. Then use the `AskUserQuestion` tool with `multiSelect: true` to let the developer choose which fixes and improvements to apply. The developer is NOT choosing which of their own changes to commit &mdash; they are choosing which of the agent's proposed fixes/improvements to accept.

   Group the items by category:
   - **Lint fixes applied** &mdash; files auto-formatted by the linter
   - **Coverage fixes** &mdash; new or updated test files written to reach 100% coverage
   - **Audit fixes applied** &mdash; dependency changes from audit fix
   - **Test quality issues** &mdash; issues found by verify-test-cases (with proposed corrections)
   - **Unfixable issues** &mdash; anything that could not be auto-fixed (for awareness only)

   Example question format:
   ```
   "Which fixes/improvements do you want to apply?"
   Options:
   - "Lint fixes: 5 files auto-formatted by ESLint"
   - "Coverage: added tests for 3 uncovered files (85% &rarr; 100%)"
   - "Audit fix: updated lodash 4.17.20 &rarr; 4.17.21"
   - "Test quality: fixed 2 incorrect test descriptions"
   ```

   If there are more items than fit in 4 options, group them logically (e.g., "All lint fixes (8 files)" as one option).

7. **Apply selected fixes:**
   - For fixes the developer approved: keep the changes
   - For fixes the developer rejected: revert those specific changes using `git restore &lt;file&gt;` or by undoing the edits
   - Stage all approved changes with `git add`

8. **Propose final action:**

   Use `AskUserQuestion` to offer two options:

   - **Commit** &mdash; Commit all changes (the developer's original work + approved fixes) locally with a descriptive message
   - **Commit and push** &mdash; Same as above, then push to the current remote branch

   After the developer chooses:
   - If **Commit**: create the commit with a descriptive message
   - If **Commit and push**: create the commit, then push to the remote tracking branch (or `origin/&lt;current-branch&gt;` if no tracking branch is set)

9. **Handle edge cases:**
   - If there are no uncommitted changes, inform the user and STOP
   - If no lint tools are detected, skip the lint step and note it in the summary
   - If no audit tools are detected, skip the audit step and note it in the summary
   - If no coverage tool is detected, skip the coverage step and note it in the summary
   - If the `/verify-test-cases` skill reports no test files modified, skip that section in the summary
   - If all checks pass with no fixes needed, skip the approval step and go straight to the commit options
   - If the developer rejects all fixes, commit the developer's original changes only (no fixes)

**Example output format:**

```
## Cleanup Summary

### Changes Reviewed
- 3 files modified, 1 file added
- New feature: user profile endpoint
- Bug fix: corrected date parsing in utils

### Lint
&#x2705; 5 files auto-fixed by ESLint
&#x26A0;&#xFE0F; 1 issue could not be auto-fixed:
  - src/api.ts:42 &mdash; Unexpected any. Specify a different type.

### Test Verification
&#x2705; All test cases verified &mdash; no issues found

### Coverage (from single run)
&#x26A0;&#xFE0F; Coverage at 87% &mdash; missing coverage in:
  - src/services/auth.ts (lines 45-62)
  - src/utils/parser.ts (lines 12-18)
&#x2705; Wrote 2 new test files to cover missing lines

### Audit
&#x2705; npm audit fix applied &mdash; resolved 2 vulnerabilities
&#x26A0;&#xFE0F; 1 moderate vulnerability remains (no auto-fix available)

---

[Approval checklist: developer picks which fixes to keep]

---

&#x2705; Committed: "Add user profile endpoint, fix date parsing, and improve test coverage"
```</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Setup Branch Skill -->
                <div class="skill-card">
                    <div class="skill-header">
                        <div class="skill-title">
                            <h3>Setup Branch</h3>
                            <code>/setup-branch</code>
                        </div>
                        <p class="skill-description">
                            Create a new branch and worktree from a JIRA ID or URL.
                            Determines branch prefix (<code>fix/</code> for bugs, <code>feat/</code> for everything else) from the JIRA item type,
                            sets up the worktree one level above the current directory, and auto-detects the package manager to install dependencies.
                            Creates the branch directly from the remote base branch without disrupting your current worktree.
                        </p>
                        <div class="skill-usage">
                            <strong>Usage:</strong>
                            <ul>
                                <li><code>/setup-branch PROJ-123</code> &mdash; Create branch from a JIRA ID</li>
                                <li><code>/setup-branch https://mycompany.atlassian.net/browse/PROJ-123</code> &mdash; Create branch from a JIRA URL</li>
                            </ul>
                        </div>
                        <button class="collapsible-toggle" onclick="toggleCollapsible(this)">
                            <span class="arrow">&#9654;</span>
                            <span>Show raw skill file</span>
                        </button>
                    </div>
                    <div class="collapsible-content">
                        <div class="file-container">
                            <div class="file-header">
                                <span class="file-name">skills/setup-branch/SKILL.md</span>
                                <button class="copy-btn" onclick="copyContent(this, 'setup-branch-content')">Copy</button>
                            </div>
                            <div class="file-content">
                                <pre id="setup-branch-content">---
name: setup-branch
description: Create a new branch and worktree from a JIRA ID or URL. Determines branch prefix (fix/ or feat/) from the JIRA item type, sets up the worktree one level up, and installs dependencies.
argument-hint: "&lt;JIRA-ID or URL&gt;"
---

Create a new git branch and worktree from a JIRA ticket. Automatically names the branch based on the JIRA item type and sets up the worktree ready to work in.

**Usage:**
- `/setup-branch PROJ-123` - Create branch from JIRA ID
- `/setup-branch https://mycompany.atlassian.net/browse/PROJ-123` - Create branch from JIRA URL

**Instructions:**

1. **Check prerequisites:**
   - **JIRA MCP server:** Verify that a JIRA MCP tool is available (e.g., by checking if any MCP tools related to JIRA/Atlassian are accessible). If no JIRA MCP server is configured, display the following message and **STOP**:
     ```
     ## Missing Prerequisite: JIRA MCP Server

     No JIRA MCP server is configured. This skill requires a JIRA MCP integration to fetch issue details.

     Please configure a JIRA MCP server in your Claude Code settings before using this skill.
     ```
   - **GitHub CLI (`gh`):** Run `gh --version` to check if the `gh` CLI is installed. If the command fails (not found), display the following message and **STOP**:
     ```
     ## Missing Prerequisite: GitHub CLI

     The `gh` command is not installed. This skill requires the GitHub CLI for repository operations.

     Install it from: https://cli.github.com/
     ```
   - **GitHub CLI authentication:** Run `gh auth status` to check if `gh` is authenticated. If the command indicates the user is not logged in, display the following message and **STOP**:
     ```
     ## Missing Prerequisite: GitHub CLI Authentication

     The GitHub CLI is not authenticated. Please run `gh auth login` to authenticate before using this skill.
     ```

2. **Parse the JIRA reference from $ARGUMENTS:**
   - If no argument is provided, inform the user of the expected usage and STOP
   - If the argument is a URL (contains `atlassian.net/browse/` or similar), extract the JIRA ID from the URL path (e.g., `https://mycompany.atlassian.net/browse/PROJ-123` &rarr; `PROJ-123`). If the JIRA ID cannot be extracted, show what was received and STOP
   - If the argument is already a JIRA ID (matches pattern like `PROJ-123`, `ABC-1`, etc.), use it directly
   - If the argument cannot be parsed as either a URL or JIRA ID, inform the user and STOP

3. **Fetch the JIRA item type:**
   - Use the JIRA MCP tool or API to fetch the issue details for the extracted JIRA ID
   - Identify the issue type (Bug, Story, Task, Epic, Sub-task, etc.)
   - If the JIRA API is not available or the fetch fails, ask the developer to provide the issue type manually using `AskUserQuestion` with options: "Bug", "Story/Task/Other"

4. **Determine the branch name:**
   - Lowercase the JIRA ID for use in the branch name (e.g., `PROJ-123` &rarr; `proj-123`)
   - If the issue type is **Bug**: branch name is `fix/&lt;jira-id&gt;` (e.g., `fix/proj-123`)
   - For **all other types** (Story, Task, Epic, Sub-task, etc.): branch name is `feat/&lt;jira-id&gt;` (e.g., `feat/proj-123`)

5. **Ask which base branch to branch from:**
   - Use `AskUserQuestion` to ask the developer which branch to use as the base
   - Default option should be `main`
   - Let the developer type a different branch name via the "Other" option

6. **Fetch the base branch from remote:**
   - Run `git fetch origin &lt;base-branch&gt;`
   - **If the fetch fails** (e.g., the base branch does not exist on the remote), show the error and STOP immediately. Do not continue with branch or worktree creation.
   - Do **NOT** checkout or pull the base branch &mdash; this avoids disrupting uncommitted work in the current worktree.

7. **Create the new branch and worktree together:**
   - If the branch name already exists locally (`git rev-parse --verify &lt;branch-name&gt;` succeeds), inform the user and STOP (do not force-create)
   - Determine the worktree path: take the **parent directory** of the current working directory and append the branch name with `/` replaced by `-`
     - Example: if CWD is `/Users/dev/my-project` and branch is `fix/proj-123`, the worktree path is `/Users/dev/fix-proj-123`
   - If the worktree directory already exists, inform the user and STOP
   - Run `git worktree add &lt;worktree-path&gt; -b &lt;branch-name&gt; origin/&lt;base-branch&gt;`
     - This creates the new branch based on the remote base branch AND the worktree in a single command, without touching the current worktree
   - If the command fails, show the error and STOP

8. **Install dependencies in the new worktree:**
   - Detect the package manager by checking for lock files in the new worktree directory:
     - `bun.lockb` or `bun.lock` &rarr; run `bun install --frozen-lockfile`
     - `pnpm-lock.yaml` &rarr; run `pnpm install --frozen-lockfile`
     - `yarn.lock` &rarr; run `yarn install --frozen-lockfile`
     - `package-lock.json` &rarr; run `npm ci`
     - If none of these lock files exist but a `package.json` is present &rarr; run `npm install` and warn that no lock file was found
     - If no `package.json` exists &rarr; skip dependency installation entirely
   - If the install command fails, show the error but do NOT delete the worktree &mdash; the developer may want to fix the issue manually

9. **Show success message:**

   Display a summary with all relevant information:

   ```
   ## Branch Setup Complete

   - JIRA: PROJ-123
   - Type: Bug &rarr; fix/proj-123
   - Base: origin/main
   - Worktree: /Users/dev/fix-proj-123
   - Dependencies: installed (npm ci)

   To start working:
     cd /Users/dev/fix-proj-123

   To push for the first time:
     git push -u origin fix/proj-123
   ```</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Address Ticket Skill -->
                <div class="skill-card">
                    <div class="skill-header">
                        <div class="skill-title">
                            <h3>Address Ticket</h3>
                            <code>/address-ticket</code>
                        </div>
                        <p class="skill-description">
                            Read the JIRA ticket associated with the current branch and propose an implementation plan.
                            Requires JIRA MCP to be configured and a branch containing a JIRA ID
                            (e.g., <code>fix/PROJ-123</code>, <code>feat/MYAPP-456</code>, <code>PROJ-123-add-login</code>).
                            Automatically deduces the conventional commit prefix from the ticket content.
                            Uses Plan Mode to present the plan for developer approval before implementation.
                        </p>
                        <div class="skill-usage">
                            <strong>Usage:</strong>
                            <ul>
                                <li><code>/address-ticket</code> &mdash; Analyze the current branch's JIRA ticket and propose a plan</li>
                            </ul>
                        </div>
                        <button class="collapsible-toggle" onclick="toggleCollapsible(this)">
                            <span class="arrow">&#9654;</span>
                            <span>Show raw skill file</span>
                        </button>
                    </div>
                    <div class="collapsible-content">
                        <div class="file-container">
                            <div class="file-header">
                                <span class="file-name">skills/address-ticket/SKILL.md</span>
                                <button class="copy-btn" onclick="copyContent(this, 'address-ticket-content')">Copy</button>
                            </div>
                            <div class="file-content">
                                <pre id="address-ticket-content">---
name: address-ticket
description: Read the JIRA ticket associated with the current branch and propose an implementation plan. Requires JIRA MCP and a branch named with a JIRA ID.
argument-hint: ""
---

Read the JIRA ticket for the current branch and propose a plan to address it. The branch must contain a JIRA ID (e.g., `feat/PROJ-123`, `fix/PROJ-123`, or just `PROJ-123`).

**Usage:**
- `/address-ticket` - Analyze the JIRA ticket and propose an implementation plan

**Instructions:**

1. **Validate that JIRA MCP is available:**
   - Run `/mcp` to list the MCP servers available in the current context
   - Check that a JIRA (or Atlassian) MCP server is present and shows as connected/authenticated
   - If JIRA MCP is NOT available or not authenticated, display the following error and STOP:
     ```
     &#x274C; JIRA MCP is not configured or not authenticated.
     This skill requires a working JIRA MCP integration.
     Please configure and authenticate the JIRA MCP server before using /address-ticket.
     ```

2. **Extract the JIRA ID from the current branch name:**
   - Run `git branch --show-current` to get the current branch name
   - Extract the JIRA ID by matching the pattern `[A-Z][A-Z0-9]+-[0-9]+` (e.g., `PROJ-123`, `AB-1`, `MYAPP-4567`)
   - The JIRA ID can appear anywhere in the branch name (e.g., `fix/PROJ-123`, `feat/PROJ-123`, `PROJ-123-some-description`, `feature/PROJ-123-add-login`)
   - If no JIRA ID is found in the branch name, display the following error and STOP:
     ```
     &#x274C; No JIRA ID found in branch name: "&lt;current-branch&gt;"
     Expected a branch name containing a JIRA ID (e.g., PROJ-123).
     Examples: fix/PROJ-123, feat/MYAPP-456, PROJ-123-add-login
     ```

3. **Fetch the JIRA ticket:**
   - Use the JIRA MCP tool to retrieve the issue by its JIRA ID
   - Fetch the following fields:
     - **Summary** (title)
     - **Description** (full body)
     - **Comments** (all comments on the ticket)
     - **Issue type** (Bug, Story, Task, etc.)
     - **Priority**
   - If the JIRA fetch fails (issue not found, permission denied, etc.), offer a fallback: use `AskUserQuestion` to ask the developer if they want to paste the ticket content manually. If the developer declines, STOP. If the developer provides content, continue with that.

4. **Determine the conventional commit prefix:**
   - Based on the ticket's **issue type**, **summary**, and **description**, deduce the most appropriate conventional commit prefix:
     - `feat` &mdash; new functionality or feature
     - `fix` &mdash; bug fix
     - `docs` &mdash; documentation-only changes
     - `style` &mdash; code style changes (formatting, whitespace, etc.)
     - `refactor` &mdash; code restructuring without behavior change
     - `perf` &mdash; performance improvement
     - `test` &mdash; adding or updating tests only
     - `build` &mdash; build system or dependency changes
     - `ci` &mdash; CI/CD configuration changes
     - `chore` &mdash; maintenance tasks, tooling, etc.
     - `revert` &mdash; reverting a previous change
   - Use the issue type as the primary signal (e.g., Bug &rarr; `fix`, Story with new functionality &rarr; `feat`)
   - Use the summary and description to refine when the issue type is ambiguous (e.g., a Task could be `refactor`, `chore`, `docs`, etc.)
   - If the branch name already contains a conventional commit prefix (e.g., `fix/PROJ-123`), use it as a hint but verify it makes sense given the ticket content
   - If you hesitate between multiple prefixes, use `AskUserQuestion` to let the developer choose. Present the top candidates with a brief explanation of why each could apply.

5. **Analyze the ticket and codebase:**
   - Read the ticket summary, description, and all comments thoroughly
   - Identify the key requirements, constraints, and acceptance criteria from the summary and description
   - Explore the codebase to understand:
     - Which files and modules are relevant to the ticket
     - Existing patterns and conventions in the affected areas
     - Any related tests that exist or will need updating
   - Consider the conventional commit prefix as context for the type of work expected (e.g., `fix` implies a bug fix, `feat` implies new functionality, `refactor` implies restructuring)

6. **Propose an implementation plan using Plan Mode:**

   Use `EnterPlanMode` to switch to plan mode, then write the implementation plan. This ensures the developer reviews and approves the plan before any code is written.

   Structure the plan as follows:

   ```
   ## Ticket: &lt;JIRA-ID&gt;
   **&lt;Summary&gt;**
   Type: &lt;issue-type&gt; | Priority: &lt;priority&gt; | Commit prefix: &lt;conventional-commit-prefix&gt;

   ### Understanding
   &lt;Brief summary of what the ticket is asking for, synthesized from the description and comments. Call out any ambiguities or conflicting information in the comments.&gt;

   ### Acceptance Criteria
   &lt;List the acceptance criteria extracted from the ticket summary and description. If none are explicit, derive them from the description.&gt;

   ### Implementation Plan
   1. &lt;Step 1 &mdash; what to do and which files to touch&gt;
   2. &lt;Step 2&gt;
   3. ...

   ### Files to Modify
   - `path/to/file.ts` &mdash; &lt;what changes are needed&gt;
   - `path/to/other.ts` &mdash; &lt;what changes are needed&gt;

   ### New Files
   - `path/to/new-file.ts` &mdash; &lt;purpose&gt;
   (or "None" if no new files are needed)

   ### Tests
   - &lt;Which test files to update or create&gt;
   - &lt;What scenarios to cover&gt;

   ### Risks / Open Questions
   - &lt;Any uncertainties, assumptions, or things to clarify with the team&gt;
   ```

   Use `ExitPlanMode` to present the plan for developer approval. Only proceed with implementation after the developer approves.

7. **Handle edge cases:**
   - If the ticket description is empty, note it and base the plan on the summary and comments only
   - If there are no comments, skip that section in the analysis
   - If the codebase exploration reveals the ticket may already be addressed, inform the developer
   - If the ticket is too vague to produce a concrete plan, list what is understood and what needs clarification</pre>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <footer>
            <p>üí° Tip: Skills use YAML frontmatter with <code>name</code> and <code>description</code> fields</p>
            <p>üìö See <a href="https://docs.anthropic.com/en/docs/claude-code">Claude Code documentation</a> for more details</p>
        </footer>
    </div>

    <script>
        function copyInstallCommand() {
            const command = document.getElementById('install-command').textContent;
            const button = document.querySelector('.command-wrapper > .copy-btn');
            navigator.clipboard.writeText(command).then(() => {
                button.textContent = 'Copied!';
                button.classList.add('copied');
                setTimeout(() => {
                    button.textContent = 'Copy';
                    button.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy:', err);
            });
        }

        function toggleCollapsible(button) {
            button.classList.toggle('active');
            const content = button.closest('.skill-header').nextElementSibling;
            content.classList.toggle('active');

            const text = button.querySelector('span:last-child');
            if (content.classList.contains('active')) {
                text.textContent = 'Hide raw skill file';
            } else {
                text.textContent = 'Show raw skill file';
            }
        }

        function copyContent(button, contentId) {
            const content = document.getElementById(contentId).textContent;
            navigator.clipboard.writeText(content).then(() => {
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                button.classList.add('copied');
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy:', err);
                alert('Failed to copy. Please select and copy manually.');
            });
        }
    </script>
</body>
</html>
